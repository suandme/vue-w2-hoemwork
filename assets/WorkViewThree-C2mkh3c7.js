import{r,g as w,c as s,a as e,F as p,b as v,d as _,t as n,e as h,w as b,v as C,o as c,h as V,i as L,j as P}from"./index-DmWLnbqI.js";const I={id:"root"},j={class:"container mt-5"},D={class:"row"},N={class:"col-md-4"},S=["onClick"],T={class:"d-flex w-100 justify-content-between"},U={class:"mb-1"},$={class:"mb-1"},B={class:"col-md-8"},M={class:"table"},F=e("thead",null,[e("tr",null,[e("th",{scope:"col",width:"50"},"操作"),e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"描述"),e("th",{scope:"col",width:"90"},"數量"),e("th",{scope:"col"},"單價"),e("th",{scope:"col"},"小計")])],-1),Q=["onUpdate:modelValue"],E=P('<option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option>',10),W=[E],q={key:0,class:"text-end mb-3"},z={key:2,class:"d-grid gap-2 d-md-flex justify-content-md-end"},A={key:3,class:"alert alert-dark",role:"alert"},G=e("hr",null,null,-1),H={key:0,class:"row justify-content-center"},J={class:"col-8"},K={class:"card"},O={class:"card-body"},R={class:"card-title"},X=e("h5",null,"訂單",-1),Y={class:"table"},Z=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"數量"),e("th",{scope:"col"},"小計")])],-1),ee={class:"text-end"},te={class:"text-end"},le={__name:"WorkViewThree",setup(oe){const o=r([]),d=r(""),i=r({carList:void 0,demo:"",PayPrice:0}),y=a=>{i.value={...i};const l={...a};l.count=1;const t=o.value.findIndex(u=>u.id==l.id);t>-1?o.value[t].count>=10?alert("超過可選擇數量"):o.value[t].count++:o.value.push(l)},m=w(()=>o.value.reduce((a,l)=>a+l.price*l.count,0)),f=()=>{i.value.carList=o.value,i.value.PayPrice=m.value,i.value.demo=d.value,o.value=[],d.value="",console.log(o)},k=()=>{o.value=[],d.value=""},g=a=>{const l=o.value.findIndex(t=>t.Id===a.Id);o.value.splice(l,1)},x=[{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50,count:0},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45,count:0},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55,count:0},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45,count:0},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50,count:0},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45,count:0},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55,count:0},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60,count:0}];return(a,l)=>(c(),s("div",I,[e("div",j,[e("div",D,[e("div",N,[(c(),s(p,null,v(x,t=>e("div",{class:"list-group",key:t.id},[e("a",{href:"#",onClick:V(u=>y(t),["prevent"]),class:"list-group-item list-group-item-action"},[e("div",T,[e("h5",U,n(t.name),1),e("small",null,"$"+n(t.price),1)]),e("p",$,n(t.description),1)],8,S)])),64))]),e("div",B,[e("table",M,[F,e("tbody",null,[(c(!0),s(p,null,v(o.value,t=>(c(),s("tr",{key:t.id},[e("td",null,[e("button",{type:"button",class:"btn btn-sm",onClick:g},"x")]),e("td",null,n(t.name),1),e("td",null,[e("small",null,n(t.description),1)]),e("td",null,[b(e("select",{class:"form-select","onUpdate:modelValue":u=>t.count=u},W,8,Q),[[L,t.count]])]),e("td",null,n(t.price),1),e("td",null,n(t.price*t.count),1)]))),128))])]),o.value.length>0?(c(),s("div",q,[e("h5",null,[_("總計: "),e("span",null,"$"+n(m.value),1)])])):h("",!0),o.value.length>0?b((c(),s("textarea",{key:1,"onUpdate:modelValue":l[0]||(l[0]=t=>d.value=t),class:"form-control mb-3",rows:"3",placeholder:"備註"},`\r
        `,512)),[[C,d.value]]):h("",!0),o.value.length>0?(c(),s("div",z,[e("button",{type:"button",class:"btn btn-danger btn-lg",onClick:k},"清空"),e("button",{type:"button",class:"btn btn-primary btn-lg",onClick:f},"送出")])):(c(),s("div",A,"請選擇商品"))])]),G,i.value.carList?(c(),s("div",H,[e("div",J,[e("div",K,[e("div",O,[e("div",R,[X,e("table",Y,[Z,e("tbody",null,[(c(!0),s(p,null,v(i.value.carList,t=>(c(),s("tr",{key:t.id},[e("td",null,n(t.name),1),e("td",null,n(t.count),1),e("td",null,n(t.price*t.count),1)]))),128))])]),e("div",ee,[_("備註: "),e("span",null,n(i.value.demo),1)]),e("div",te,[e("h5",null,[_("總計: "),e("span",null,"$"+n(i.value.PayPrice),1)])])])])])])])):h("",!0)])]))}};export{le as default};
